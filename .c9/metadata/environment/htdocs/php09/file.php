{"filter":false,"title":"file.php","tooltip":"/htdocs/php09/file.php","ace":{"folds":[],"scrolltop":0,"scrollleft":0,"selection":{"start":{"row":5,"column":4},"end":{"row":5,"column":41},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":0},"hash":"7115b1a03314f5270db3300db5a9ebc28e578b1a","undoManager":{"mark":16,"position":16,"stack":[[{"start":{"row":0,"column":0},"end":{"row":52,"column":7},"action":"insert","lines":["<?php"," ","$filename = './file_write.txt';","$comment = '';"," ","if ($_SERVER['REQUEST_METHOD'] === 'POST'){"," ","    if (isset($_POST['comment']) === TRUE) {","        $comment = $_POST['comment'];","    }"," ","    if (($fp = fopen($filename, 'a')) !== FALSE) {","        if (fwrite($fp, $comment) === FALSE) {","            print 'ファイル書き込み失敗:  ' . $filename;","        }","        fclose($fp);","    }","}"," ","$data = [];"," ","if (is_readable($filename) === TRUE) {","    if (($fp = fopen($filename, 'r')) !== FALSE) {","        while (($tmp = fgets($fp)) !== FALSE) {","            $data[] = htmlspecialchars($tmp, ENT_QUOTES, 'UTF-8');","        }","        fclose($fp);","    }","} else {","    $data[] = 'ファイルがありません';","}"," ","?>","<!DOCTYPE html>","<html lang=\"ja\">","<head>","    <meta charset=\"UTF-8\">","    <title>ファイル操作</title>","</head>","<body>","    <h1>ファイル操作</h1>"," ","    <form method=\"post\">","        <input type=\"text\" name=\"comment\">","        <input type=\"submit\" name=\"submit\" value=\"送信\">","    </form>"," ","    <p>以下に<?php print $filename; ?>の中身を表示</p>","<?php foreach ($data as $read) { ?>","    <p><?php print $read; ?></p>","<?php } ?>","</body>","</html>"],"id":1}],[{"start":{"row":43,"column":24},"end":{"row":43,"column":25},"action":"insert","lines":["p"],"id":2,"ignore":true}],[{"start":{"row":43,"column":25},"end":{"row":43,"column":29},"action":"insert","lines":["rint"],"id":3,"ignore":true}],[{"start":{"row":43,"column":29},"end":{"row":43,"column":30},"action":"insert","lines":["_"],"id":4,"ignore":true}],[{"start":{"row":43,"column":25},"end":{"row":43,"column":30},"action":"remove","lines":["rint_"],"id":5,"ignore":true}],[{"start":{"row":43,"column":24},"end":{"row":43,"column":25},"action":"remove","lines":["p"],"id":6,"ignore":true}],[{"start":{"row":4,"column":0},"end":{"row":4,"column":1},"action":"insert","lines":["p"],"id":7,"ignore":true}],[{"start":{"row":4,"column":1},"end":{"row":4,"column":3},"action":"insert","lines":["ri"],"id":8,"ignore":true}],[{"start":{"row":4,"column":3},"end":{"row":4,"column":4},"action":"insert","lines":["n"],"id":9,"ignore":true}],[{"start":{"row":4,"column":4},"end":{"row":4,"column":5},"action":"insert","lines":["t"],"id":10,"ignore":true}],[{"start":{"row":4,"column":5},"end":{"row":4,"column":6},"action":"insert","lines":["_"],"id":11,"ignore":true}],[{"start":{"row":4,"column":6},"end":{"row":4,"column":7},"action":"insert","lines":["r"],"id":12,"ignore":true}],[{"start":{"row":4,"column":7},"end":{"row":4,"column":9},"action":"insert","lines":["()"],"id":13,"ignore":true}],[{"start":{"row":4,"column":8},"end":{"row":4,"column":9},"action":"insert","lines":["$"],"id":14,"ignore":true}],[{"start":{"row":4,"column":9},"end":{"row":4,"column":10},"action":"insert","lines":["_"],"id":15,"ignore":true}],[{"start":{"row":4,"column":8},"end":{"row":4,"column":10},"action":"remove","lines":["$_"],"id":16,"ignore":true},{"start":{"row":4,"column":8},"end":{"row":4,"column":16},"action":"insert","lines":["$_SERVER"]}],[{"start":{"row":4,"column":18},"end":{"row":4,"column":19},"action":"insert","lines":[";"],"id":17,"ignore":true}]]},"timestamp":1594442042007}